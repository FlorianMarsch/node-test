scope.players=[];
scope.bidOn;
scope.bid = function( aPlayer,ev){
	scope.bidOn = {};
	scope.bidOn.player=aPlayer;
	dialog.show({
		controller: function () { this.parent = $scope; },
		templateUrl: '/bid',
		parent: angular.element(document.body),
		targetEvent: ev,
		clickOutsideToClose: true
	  });
}

scope.loadPlayers = function(callback){
	$http({
 		method : 'GET',
 		url : '/api/player',
 		responseType : 'json'
 	}).then(function(response) {
 		scope.players=response.data;
 		if(callback){
 			callback();
 		}
 	},function(error) {
 		console.log(error);
 		if(callback){
 			callback(error);
 		}else{
 			scope.active = 'error';
     		scope.error = error;
 		}
 	});
};
if(scope.user.id){
	scope.loadPlayers();
}